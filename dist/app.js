function randomInt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Bar(e){this.element=e,this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.levels=[.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5],this.angles=[];for(var t=0;t<this.levels.length;t++)this.angles.push(randomInt(0,2)-1);this.level=.5,this.height=this.canvas.height,this.width=this.canvas.width,this._angle=0}function App(){this.version="v0.0.1",this.author="Marco Stagni",this.coffee=new Bar("coffee"),this.sleep=new Bar("sleep")}function render(){app.render(),app.renderid=requestAnimationFrame(render)}Bar.prototype={render:function(){this.ctx.clearRect(0,0,this.width,this.height);for(var e,t=5,r=15,i=0;i<this.levels.length;i++)e=this.levels[i]*this.height+5*Math.sin(this.angles[i]),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(r,this.height-e,t,e),r+=t+8,this.angles[i]+=.1;this.levels.shift(),this.levels.push(app[this.element].level),this._angle+=.1},inc:function(e){this.level+=e?e:.1},dec:function(e){this.level=this.level-(e?e:.1)}},App.prototype={printVersion:function(){var e=document.getElementById("version");e.innerText=this.version},_maze:function(e,t){var r=e*t-1;if(r<0)return void alert("illegal maze dimensions");for(var i=[],n=0;n<e+1;n++)i[n]=[],verti=[];for(var n=0;n<e+1;n++)verti[n]=[],here=[Math.floor(Math.random()*e),Math.floor(Math.random()*t)],path=[here],unvisited=[];for(var n=0;n<e+2;n++){unvisited[n]=[];for(var h=0;h<t+1;h++)unvisited[n].push(n>0&&n<e+1&&h>0&&(n!=here[0]+1||h!=here[1]+1))}for(;0<r;){for(var s=[[here[0]+1,here[1]],[here[0],here[1]+1],[here[0]-1,here[1]],[here[0],here[1]-1]],o=[],n=0;n<4;n++)unvisited[s[n][0]+1][s[n][1]+1]&&o.push(s[n]);o.length?(r-=1,next=o[Math.floor(Math.random()*o.length)],unvisited[next[0]+1][next[1]+1]=!1,next[0]==here[0]?i[next[0]][(next[1]+here[1]-1)/2]=!0:verti[(next[0]+here[0]-1)/2][next[1]]=!0,path.push(here=next)):here=path.pop()}return{x:e,y:t,horiz:i,verti:verti}},_display:function(e){for(var t=[],r=0;r<2*m.x+1;r++){var i=[];if(0==r%2)for(var n=0;n<4*m.y+1;n++)0==n%4?i[n]="+":r>0&&m.verti[r/2-1][Math.floor(n/4)]?i[n]=" ":i[n]="-";else for(var n=0;n<4*m.y+1;n++)0==n%4?n>0&&m.horiz[(r-1)/2][n/4-1]?i[n]=" ":i[n]="|":i[n]=" ";0==r&&(i[1]=i[2]=i[3]=" "),2*m.x-1==r&&(i[4*m.y]=" "),t.push(i.join("")+"\r\n")}return t.join("")},render:function(){this.coffee.render(),this.sleep.render()}},window.onload=function(){window.app=new App,app.printVersion(),render()};